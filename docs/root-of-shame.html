<!DOCTYPE html>
<html>


	<head>
		<title>Root Of Shame</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	
<body>

<header id="header">
	<div class="logo"><a href="#">Root Of Shame<span>A simple procedural root-like mesh generator</span></a></div>
</header>

<section id="main">
				<div class="inner">

				<!-- One -->
					<section id="one" class="wrapper style1">

						<div class="image fit flush">
							<img src="images/untitled.png" alt="" />
						</div>
						<header class="special">
							<h2>Procedural generation of assets</h2>
							<p>"The Art Of"</p>
						</header>
						<div class="content">
							<p>Procedural generation of assets is a well known technique widely used in the game industry. It`s used to generate various kinds of objects (meshes), level design (terrain, universe, mazes, dungeons, etc), plot complications, dialogues, sounds, loot, textures, and so on. What all those have in common are: They can be decomposed in small building blocks and assembly rules. Among the reasons for using such constructions one can find:</p>
							<ul>
							  <li>Storage space optimization. For such cases it may be better to store a set of blocks and rules than all the possible combinations generated by it.</li>
							  <li>Computational creativity and diversity. The possibility of generating virtually infinitely different assets, for example, in the level design never facing the same level twice. </li>
							  <li>Time complexity of development of repeated assets. Modeling assets of the same kind with some variation can be time consuming, while generating various of them from the same blocks and rules are easier. A simple example can be hand crafting each tree of a forest versus generating various trees and forming a forest.</li>
							</ul>
							<p>Of course there is a downside, to create such generators it`s required to have a deeper knowledge of what is going to be modeled, otherwise one may fail to identify the correct parameters, blocks and rules hence generating assets with inconsistent and artificial appearance.</p>
							<p>The tools behind of procedural generation are the rewriting rules, related to grammar, and probabilistic distributions. Taking the specific case of meshes, both play important rules on the assembly of an object. The first controls the general structure of a model while the second introduce the variations in the appearance per object.</p>
							<p>Here we are going to address the generation of plant`s root meshes based on simple rules.</p>
						</div>
					</section>
					
				<!-- Three -->
					<section id="three" class="wrapper style3">
						
						<header >
							<h2>Procedural generation of tree-like structures</h2>
							<p>skeleton & Mesh</p>
						</header>
						
						<div class="ct-back">
							<div class="spotlight">
								<div class="image flush"><img src="images/basic-rewrite.gif" alt="" /></div>
								<div class="inner">
									<h3>Rewrite rule</h3>
									<p>The base for the construction of the skeleton lies in the following rewrite rule:</p>
									<p>Given the alphabet {s,l,r,$}, "s" represents a piece of a segment, "l" turn to left by θ degrees, "r" turn to right by θ degrees and "$" the ending of a segment. Then we use the rules "$" → "s$", the growing of a segment, "$" → ("s$", "la$") and  "$" → ("s$", "ra$"), the branching and one step growing of a segment to left and right respectively. One important thing to notice is that we start with a single chain but may end with many, as the branching rules initiate new chains which grow independently. One may notice we have three rules for the same symbol "$", here is where the probability distribution comes in, you can assign probabilities for each rule and sample obtaining different constructions.</p>
								</div>
							</div>
							<div class="spotlight alt">
								<div class="image flush"><img src="images/noise.gif" alt="" /></div>
								<div  class="inner">
									<h3>Noise addition</h3>
									<p>From a visual inspection it`s perceptible that only branching with straight lines and fixed segments size does not achieve what is proposed. So one way of making it more natural is adding noise in each step.</p>
									<p>We sample a δL (length) and δθ (angle) from a normal distribution and add it to the growth of each segment for each step. These noises simulates a continuous process where it grows a random length until it changes its growing direction a little bit.</p>
								</div>
							</div>
							<div class="spotlight">
								<div class="image flush"><img src="images/surface.gif" alt="" /></div>
								<div class="inner">
									<h3>Surface generation</h3>
									<p>To generate the surface, we first choose a planar geometry to use as a base, and "pass" it through the skeleton curves scaling it according with the segment's length. This is done in the following way: For each point "p" in the curve segment, we discretize a unitary circle in #n points in the plane xy, scale it according to the length of the segment at the point "p", rotate the circle to make it normal to the point direction and finally translate it to the point "p".</p>
									<p>Having all the points from the surface, we need to make facets from them by linking each two points of a circle to the next equivalent two points in the next circle following the right hand rule to keep the surface normals right.</p>
								</div>
							</div>
							<div class="spotlight alt2">
								<div class="image flush"><img src="images/growing-wire.gif" alt="" /></div>
								<div  class="inner">
									<h3>Growth animation</h3>
									<p>Generating the frames for the animation during the simulation is straightforward, after each epoch (an epoch means each branch have been visited and updated), one generate the surface and draw it. In the other hand, generating the frames after the simulation one must keep track of the epochs.</p>
								</div>
							</div>
							<div class="spotlight">
								<div class="image flush"><img src="images/idea.png" alt="" /></div>
								<div class="inner">
									<h3>Future ideas</h3>
									<p>For future work...</p>
									<ul>
									  <li>Try out more sophisticated geometries to add volume to the skeleton.</li>
									  <li>Refine the animation over a pair of points, instead of each point being a frame.</li>
									  <li>Simulate the growth of segments pieces after its creation, now they are static and does not grow after being added.</li>
									  <li>Simulate the growing of the root over surfaces other than planes.</li>
									  <li>Simulate bindweed-like plants</li>
									  <li>Add physics interactions like wind flow</li>
									  <li>Add a structure during the growth to control the density of branches over the space</li>
									</ul>
								</div>
							</div>
						</div>
					</section>	
					
				<!-- Two -->
					<section id="two" class="wrapper style2">
						<header>
							<h2>Blender add-on</h2>
							<p>Implementation & parameters</p>
						</header>
						
						<div class="ct-back">
							<div class="image fit flush">
								<a href="images/blender-ui.png"><img src="images/blender-ui.png" alt="" /></a>
							</div>
							<div class="content">
								<p>The final result of this work is a blender add-on. It`s implemented using python, which is the scripting language used on blender. We added an small UI which can be accessed in "Object mode" in the tool shelf by the shortcut "T" > "Create" tab.</p>
								<div class="spotlight">
									<div class="image flush"><img src="images/blender-ui-detailed.png" alt="" /></div>
										<div class="inner2">
											<h3>Adjustable parameters</h3>
											<ul>
												<li class="outer">Initialization</li>
													<ul>
														<li>Starting position and direction</li>
													</ul>
												<li class="outer">Basic growth</li>
													<ul>
														<li>Mean step, how much a branch grow in one epoch</li>
														<li>Branch direction, the angle which branches occur.</li>
														<li>Level/Length ratio, the decay of the length of branches per level</li>
														<li>Minimum #nodes before split, number of steps before being able to branch</li> 
													</ul>
												<li class="outer">Growth noise</li>
													<ul>
														<li>Variance step,the variance of growth</li>
														<li>Direction noise (mean & variance), the angle noise added to the direction of branches</li>
														<li>Branch rate, the probability of branching</li>
														<li>Left/Right rate, rate of branching to left and branching to right</li>
													</ul>
												<li class="outer">Stopping criterion</li>
													<ul>
														<li>Maximum length of a branch</li>
														<li>Maximum nodes/branches</li>
														<li>Maximum iterations</li>
													</ul>
												<li class="outer">Surface generation</li>
													<ul>
														<li>Circle points, the number of points to discretize the circle</li>
														<li>Diameter/Length ratio</li>
													</ul>
											</ul>
										</div>
									</div>
								</div>
							
							<div id="gallery-h">
							<h2>Gallery</h2>
							</div>
							<div class="gallery">
								<div>
									<div class="image fit flush">
										<a href="images/root-1.png"><img src="images/root-1.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-2.png"><img src="images/root-2.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-3.png"><img src="images/root-3.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-4.png"><img src="images/root-4.png" alt="" /></a>
									</div>
								</div>
								
								<div>
									<div class="image fit flush">
										<a href="images/root-5.png"><img src="images/root-5.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-6.png"><img src="images/root-6.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-7.png"><img src="images/root-7.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-8.png"><img src="images/root-8.png" alt="" /></a>
									</div>
								</div>
								
								<div>
									<div class="image fit flush">
										<a href="images/root-9.png"><img src="images/root-9.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-10.png"><img src="images/root-10.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-11.png"><img src="images/root-11.png" alt="" /></a>
									</div>
								</div>
								<div>
									<div class="image fit flush">
										<a href="images/root-12.png"><img src="images/root-12.png" alt="" /></a>
									</div>
								</div>
								
							</div>
						</div>
					</section>

				

				</div>
			</section>

<!-- Footer -->
	<footer id="footer">
		<div class="container">
			<ul class="icons">
				<li><a href="https://github.com/caioc2/C3D" class="icon github"><span class="label">GitHub</span></a></li>
				<li><a href="https://www.ffmpeg.org/" class="icon ffmpeg"><span class="label">ffmpeg</span></a></li>
				<li><a href="https://www.scilab.org/" class="icon scilab"><span class="label">scilab</span></a></li>
				<li><a href="https://www.blender.org/" class="icon blender"><span class="label">Blender</span></a></li>
			</ul>
		</div>
		<div class="copyright">
			&copy; Caio SOUZA. All rights reserved. Background image <a href="https://teundenouden.deviantart.com/">Teun den Ouden</a> Design based on <a href="https://templated.co">TEMPLATED</a>
		</div>
	</footer>
</body>
</html>